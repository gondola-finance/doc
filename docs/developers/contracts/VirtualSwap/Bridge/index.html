<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.74">
<link rel="alternate" type="application/rss+xml" href="/gondola-doc/blog/rss.xml" title="Gondola Finance Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/gondola-doc/blog/atom.xml" title="Gondola Finance Blog Atom Feed"><title data-react-helmet="true">Bridge | Gondola Finance</title><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/gondola-doc/docs/developers/contracts/VirtualSwap/Bridge"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Bridge | Gondola Finance"><meta data-react-helmet="true" name="description" content="This contract is responsible for cross-asset swaps using the Synthetix protocol as the bridging exchange."><meta data-react-helmet="true" property="og:description" content="This contract is responsible for cross-asset swaps using the Synthetix protocol as the bridging exchange."><link data-react-helmet="true" rel="shortcut icon" href="/gondola-doc/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/gondola-doc/docs/developers/contracts/VirtualSwap/Bridge"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/gondola-doc/docs/developers/contracts/VirtualSwap/Bridge" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/gondola-doc/docs/developers/contracts/VirtualSwap/Bridge" hreflang="x-default"><link rel="stylesheet" href="/gondola-doc/assets/css/styles.cb95ebef.css">
<link rel="preload" href="/gondola-doc/assets/js/styles.bd6bd48b.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/runtime~main.8c11a14a.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/main.1a090e1a.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/1.55e92e1f.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/2.71050f07.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/38.f1c180a9.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/40.5ab9df12.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/935f2afb.5d846d53.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/17896441.766f1abb.js" as="script">
<link rel="preload" href="/gondola-doc/assets/js/f0072c3c.2ed7a354.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/gondola-doc/"><img src="/gondola-doc/img/logo.webp" alt="Gondola.finance Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/gondola-doc/img/logo.webp" alt="Gondola.finance Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Gondola Finance</strong></a><a class="navbar__item navbar__link" href="/gondola-doc/docs/getting-started/introduction">Getting started</a><a class="navbar__item navbar__link navbar__link--active" href="/gondola-doc/docs/developers/introduction">Developers</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/gondola-doc/"><img src="/gondola-doc/img/logo.webp" alt="Gondola.finance Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/gondola-doc/img/logo.webp" alt="Gondola.finance Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Gondola Finance</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/gondola-doc/docs/getting-started/introduction">Getting started</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/gondola-doc/docs/developers/introduction">Developers</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/gondola-doc/docs/developers/introduction">Table of contents</a></li><li class="menu__list-item"><a class="menu__link" href="/gondola-doc/docs/developers/deployed-contracts">Deployed contracts</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Smart Contracts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/GondolaToken">GondolaToken</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/IMigratorChef">IMigratorChef</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/LPToken">LPToken</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/MasterChef">MasterChef</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/MathUtils">MathUtils</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/OwnerPausableUpgradeable">OwnerPausableUpgradeable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/StakeableTokenWrapper">StakeableTokenWrapper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/Swap">Swap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/SwapDeployer">SwapDeployer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/SwapFlashLoan">SwapFlashLoan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/SwapUtils">SwapUtils</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/TimeLock">TimeLock</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">VirtualSwap</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/gondola-doc/docs/developers/contracts/VirtualSwap/Bridge">Bridge</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/VirtualSwap/Proxy">Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/VirtualSwap/SynthSwapper">SynthSwapper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gondola-doc/docs/developers/contracts/VirtualSwap/Target">Target</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">helper</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gondola-doc/docs/developers/contracts/helper/FlashLoanBorrowerExample">FlashLoanBorrowerExample</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gondola-doc/docs/developers/contracts/helper/GenericERC20">GenericERC20</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">test</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gondola-doc/docs/developers/contracts/helper/test/TestSwapReturnValues">TestSwapReturnValues</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">interfaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gondola-doc/docs/developers/contracts/interfaces/IAllowlist">IAllowlist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gondola-doc/docs/developers/contracts/interfaces/IFlashLoanReceiver">IFlashLoanReceiver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gondola-doc/docs/developers/contracts/interfaces/ISwap">ISwap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gondola-doc/docs/developers/contracts/interfaces/ISwapFlashLoan">ISwapFlashLoan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gondola-doc/docs/developers/contracts/interfaces/ISwapGuarded">ISwapGuarded</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Bridge</h1></header><div class="markdown"><p>This contract is responsible for cross-asset swaps using the Synthetix protocol as the bridging exchange.
There are three types of supported cross-asset swaps, tokenToSynth, synthToToken, and tokenToToken.</p><p>1) tokenToSynth
Swaps a supported token in a gondola pool to any synthetic asset (e.g. tBTC -&gt; sAAVE).</p><p>2) synthToToken
Swaps any synthetic asset to a suported token in a gondola pool (e.g. sDEFI -&gt; USDC).</p><p>3) tokenToToken
Swaps a supported token in a gondola pool to one in another pool (e.g. renBTC -&gt; DAI).</p><p>Due to the settlement periods of synthetic assets, the users must wait until the trades can be completed.
Users will receive an ERC721 token that represents pending cross-asset swap. Once the waiting period is over,
the trades can be settled and completed by calling the <code>completeToSynth</code> or the <code>completeToToken</code> function.
In the cases of pending <code>synthToToken</code> or <code>tokenToToken</code> swaps, the owners of the pending swaps can also choose
to withdraw the bridging synthetic assets instead of completing the swap.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="constructor"></a>constructor<a class="hash-link" href="#constructor" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function constructor(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Deploys this contract and initializes the master version of the SynthSwapper contract. The address to
the Synthetix protocol&#x27;s Exchanger contract is also set on deployment.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getproxyaddressfromtargetsynthkey"></a>getProxyAddressFromTargetSynthKey<a class="hash-link" href="#getproxyaddressfromtargetsynthkey" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function getProxyAddressFromTargetSynthKey(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bytes32 synthKey</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (contract IERC20)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Returns the address of the proxy contract targeting the synthetic asset with the given <code>synthKey</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters"></a>Parameters:<a class="hash-link" href="#parameters" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>synthKey</code></td><td align="left">bytes32</td><td align="left">the currency key of the synth</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values"></a>Return Values:<a class="hash-link" href="#return-values" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>address</code></td><td align="left">bytes32</td><td align="left">of the proxy contract</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getpendingswapinfo"></a>getPendingSwapInfo<a class="hash-link" href="#getpendingswapinfo" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function getPendingSwapInfo(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 itemId</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (enum Bridge.PendingSwapType swapType, uint256 secsLeft, address synth, uint256 synthBalance, address tokenTo)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Returns various information of a pending swap represented by the given <code>itemId</code>. Information includes
the type of the pending swap, the number of seconds left until it can be settled, the address and the balance
of the synth this swap currently holds, and the address of the destination token.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-1"></a>Parameters:<a class="hash-link" href="#parameters-1" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>itemId</code></td><td align="left">uint256</td><td align="left">ID of the pending swap</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-1"></a>Return Values:<a class="hash-link" href="#return-values-1" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swapType</code></td><td align="left">uint256</td><td align="left">the type of the pending virtual swap,</td></tr></tbody></table><p>secsLeft number of seconds left until this swap can be settled,
synth address of the synth this swap uses,
synthBalance amount of the synth this swap holds,
tokenTo the address of the destination token</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="_settle"></a>_settle<a class="hash-link" href="#_settle" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function _settle(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="withdraw"></a>withdraw<a class="hash-link" href="#withdraw" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function withdraw(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 itemId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 amount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Settles and withdraws the synthetic asset without swapping it to a token in a Gondola pool. Only the owner
of the ERC721 token of <code>itemId</code> can call this function. Reverts if the given <code>itemId</code> does not represent a
<code>synthToToken</code> or a <code>tokenToToken</code> swap.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-2"></a>Parameters:<a class="hash-link" href="#parameters-2" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>itemId</code></td><td align="left">uint256</td><td align="left">ID of the pending swap</td></tr><tr><td align="left"><code>amount</code></td><td align="left">uint256</td><td align="left">the amount of the synth to withdraw</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="completetosynth"></a>completeToSynth<a class="hash-link" href="#completetosynth" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function completeToSynth(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 itemId</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Completes the pending <code>tokenToSynth</code> swap by settling and withdrawing the synthetic asset.
Reverts if the given <code>itemId</code> does not represent a <code>tokenToSynth</code> swap.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-3"></a>Parameters:<a class="hash-link" href="#parameters-3" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>itemId</code></td><td align="left">uint256</td><td align="left">ERC721 token ID representing a pending <code>tokenToSynth</code> swap</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="calccompletetotoken"></a>calcCompleteToToken<a class="hash-link" href="#calccompletetotoken" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function calcCompleteToToken(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 itemId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 swapAmount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Calculates the expected amount of the token to receive on calling <code>completeToToken()</code> with
the given <code>swapAmount</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-4"></a>Parameters:<a class="hash-link" href="#parameters-4" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>itemId</code></td><td align="left">uint256</td><td align="left">ERC721 token ID representing a pending <code>SynthToToken</code> or <code>TokenToToken</code> swap</td></tr><tr><td align="left"><code>swapAmount</code></td><td align="left">uint256</td><td align="left">the amount of bridging synth to swap from</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-2"></a>Return Values:<a class="hash-link" href="#return-values-2" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>expected</code></td><td align="left">uint256</td><td align="left">amount of the token the user will receive</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="completetotoken"></a>completeToToken<a class="hash-link" href="#completetotoken" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function completeToToken(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 itemId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 swapAmount,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 minAmount,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 deadline</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Completes the pending <code>SynthToToken</code> or <code>TokenToToken</code> swap by settling the bridging synth and swapping
it to the desired token. Only the owners of the pending swaps can call this function.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-5"></a>Parameters:<a class="hash-link" href="#parameters-5" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>itemId</code></td><td align="left">uint256</td><td align="left">ERC721 token ID representing a pending <code>SynthToToken</code> or <code>TokenToToken</code> swap</td></tr><tr><td align="left"><code>swapAmount</code></td><td align="left">uint256</td><td align="left">the amount of bridging synth to swap from</td></tr><tr><td align="left"><code>minAmount</code></td><td align="left">uint256</td><td align="left">the minimum amount of the token to receive - reverts if this amount is not reached</td></tr><tr><td align="left"><code>deadline</code></td><td align="left">uint256</td><td align="left">the timestamp representing the deadline for this transaction - reverts if deadline is not met</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="_addtopendingsynthswaplist"></a>_addToPendingSynthSwapList<a class="hash-link" href="#_addtopendingsynthswaplist" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function _addToPendingSynthSwapList(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="_addtopendingsynthtotokenswaplist"></a>_addToPendingSynthToTokenSwapList<a class="hash-link" href="#_addtopendingsynthtotokenswaplist" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function _addToPendingSynthToTokenSwapList(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="calctokentosynth"></a>calcTokenToSynth<a class="hash-link" href="#calctokentosynth" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function calcTokenToSynth(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap swap,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 tokenFromIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bytes32 synthOutKey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 tokenInAmount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Calculates the expected amount of the desired synthetic asset the caller will receive after completing
a <code>TokenToSynth</code> swap with the given parameters. This calculation does not consider the settlement periods.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-6"></a>Parameters:<a class="hash-link" href="#parameters-6" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swap</code></td><td align="left">contract ISwap</td><td align="left">the address of a Gondola pool to use to swap the given token to a bridging synth</td></tr><tr><td align="left"><code>tokenFromIndex</code></td><td align="left">uint8</td><td align="left">the index of the token to swap from</td></tr><tr><td align="left"><code>synthOutKey</code></td><td align="left">bytes32</td><td align="left">the currency key of the desired synthetic asset</td></tr><tr><td align="left"><code>tokenInAmount</code></td><td align="left">uint256</td><td align="left">the amount of the token to swap form</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-3"></a>Return Values:<a class="hash-link" href="#return-values-3" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>the</code></td><td align="left">contract ISwap</td><td align="left">expected amount of the desired synth</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tokentosynth"></a>tokenToSynth<a class="hash-link" href="#tokentosynth" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function tokenToSynth(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap swap,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 tokenFromIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bytes32 synthOutKey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 tokenInAmount,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 minAmount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Initiates a cross-asset swap from a token supported in the <code>swap</code> pool to any synthetic asset.
The caller will receive an ERC721 token representing their ownership of the pending cross-asset swap.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-7"></a>Parameters:<a class="hash-link" href="#parameters-7" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swap</code></td><td align="left">contract ISwap</td><td align="left">the address of a Gondola pool to use to swap the given token to a bridging synth</td></tr><tr><td align="left"><code>tokenFromIndex</code></td><td align="left">uint8</td><td align="left">the index of the token to swap from</td></tr><tr><td align="left"><code>synthOutKey</code></td><td align="left">bytes32</td><td align="left">the currency key of the desired synthetic asset</td></tr><tr><td align="left"><code>tokenInAmount</code></td><td align="left">uint256</td><td align="left">the amount of the token to swap form</td></tr><tr><td align="left"><code>minAmount</code></td><td align="left">uint256</td><td align="left">the amount of the token to swap form</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-4"></a>Return Values:<a class="hash-link" href="#return-values-4" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>ID</code></td><td align="left">contract ISwap</td><td align="left">of the ERC721 token sent to the caller</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="calcsynthtotoken"></a>calcSynthToToken<a class="hash-link" href="#calcsynthtotoken" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function calcSynthToToken(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap swap,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bytes32 synthInKey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 tokenToIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 synthInAmount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256, uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Calculates the expected amount of the desired token the caller will receive after completing
a <code>SynthToToken</code> swap with the given parameters. This calculation does not consider the settlement periods or
any potential changes of the <code>swap</code> pool composition.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-8"></a>Parameters:<a class="hash-link" href="#parameters-8" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swap</code></td><td align="left">contract ISwap</td><td align="left">the address of a Gondola pool to use to swap the given token to a bridging synth</td></tr><tr><td align="left"><code>synthInKey</code></td><td align="left">bytes32</td><td align="left">the currency key of the synth to swap from</td></tr><tr><td align="left"><code>tokenToIndex</code></td><td align="left">uint8</td><td align="left">the index of the token to swap to</td></tr><tr><td align="left"><code>synthInAmount</code></td><td align="left">uint256</td><td align="left">the amount of the synth to swap form</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-5"></a>Return Values:<a class="hash-link" href="#return-values-5" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>the</code></td><td align="left">contract ISwap</td><td align="left">expected amount of the bridging synth and the expected amount of the desired token</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="synthtotoken"></a>synthToToken<a class="hash-link" href="#synthtotoken" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function synthToToken(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap swap,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bytes32 synthInKey,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 tokenToIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 synthInAmount,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 minMediumSynthAmount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Initiates a cross-asset swap from a synthetic asset to a supported token. The caller will receive
an ERC721 token representing their ownership of the pending cross-asset swap.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-9"></a>Parameters:<a class="hash-link" href="#parameters-9" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swap</code></td><td align="left">contract ISwap</td><td align="left">the address of a Gondola pool to use to swap the given token to a bridging synth</td></tr><tr><td align="left"><code>synthInKey</code></td><td align="left">bytes32</td><td align="left">the currency key of the synth to swap from</td></tr><tr><td align="left"><code>tokenToIndex</code></td><td align="left">uint8</td><td align="left">the index of the token to swap to</td></tr><tr><td align="left"><code>synthInAmount</code></td><td align="left">uint256</td><td align="left">the amount of the synth to swap form</td></tr><tr><td align="left"><code>minMediumSynthAmount</code></td><td align="left">uint256</td><td align="left">the minimum amount of the bridging synth at pre-settlement stage</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-6"></a>Return Values:<a class="hash-link" href="#return-values-6" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>the</code></td><td align="left">contract ISwap</td><td align="left">ID of the ERC721 token sent to the caller</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="calctokentotoken"></a>calcTokenToToken<a class="hash-link" href="#calctokentotoken" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function calcTokenToToken(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap[2] swaps,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 tokenFromIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 tokenToIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 tokenFromAmount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256, uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Calculates the expected amount of the desired token the caller will receive after completing
a <code>TokenToToken</code> swap with the given parameters. This calculation does not consider the settlement periods or
any potential changes of the pool compositions.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-10"></a>Parameters:<a class="hash-link" href="#parameters-10" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swaps</code></td><td align="left">contract ISwap[2]</td><td align="left">the addresses of the two Gondola pools used to do the cross-asset swap</td></tr><tr><td align="left"><code>tokenFromIndex</code></td><td align="left">uint8</td><td align="left">the index of the token in the first <code>swaps</code> pool to swap from</td></tr><tr><td align="left"><code>tokenToIndex</code></td><td align="left">uint8</td><td align="left">the index of the token in the second <code>swaps</code> pool to swap to</td></tr><tr><td align="left"><code>tokenFromAmount</code></td><td align="left">uint256</td><td align="left">the amount of the token to swap from</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-7"></a>Return Values:<a class="hash-link" href="#return-values-7" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>the</code></td><td align="left">contract ISwap[2]</td><td align="left">expected amount of bridging synth at pre-settlement stage and the expected amount of the desired</td></tr></tbody></table><p>token</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tokentotoken"></a>tokenToToken<a class="hash-link" href="#tokentotoken" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function tokenToToken(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap[2] swaps,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 tokenFromIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 tokenToIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 tokenFromAmount,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 minMediumSynthAmount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Initiates a cross-asset swap from a token in one Gondola pool to one in another. The caller will receive
an ERC721 token representing their ownership of the pending cross-asset swap.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-11"></a>Parameters:<a class="hash-link" href="#parameters-11" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swaps</code></td><td align="left">contract ISwap[2]</td><td align="left">the addresses of the two Gondola pools used to do the cross-asset swap</td></tr><tr><td align="left"><code>tokenFromIndex</code></td><td align="left">uint8</td><td align="left">the index of the token in the first <code>swaps</code> pool to swap from</td></tr><tr><td align="left"><code>tokenToIndex</code></td><td align="left">uint8</td><td align="left">the index of the token in the second <code>swaps</code> pool to swap to</td></tr><tr><td align="left"><code>tokenFromAmount</code></td><td align="left">uint256</td><td align="left">the amount of the token to swap from</td></tr><tr><td align="left"><code>minMediumSynthAmount</code></td><td align="left">uint256</td><td align="left">the minimum amount of the bridging synth at pre-settlement stage</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-8"></a>Return Values:<a class="hash-link" href="#return-values-8" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>the</code></td><td align="left">contract ISwap[2]</td><td align="left">ID of the ERC721 token sent to the caller</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setsynthindex"></a>setSynthIndex<a class="hash-link" href="#setsynthindex" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function setSynthIndex(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap swap,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 synthIndex,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bytes32 currencyKey</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Registers the index and the address of the supported synth from the given <code>swap</code> pool. The matching currency key must
be supplied for a successful registration.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-12"></a>Parameters:<a class="hash-link" href="#parameters-12" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swap</code></td><td align="left">contract ISwap</td><td align="left">the address of the pool that contains the synth</td></tr><tr><td align="left"><code>synthIndex</code></td><td align="left">uint8</td><td align="left">the index of the supported synth in the given <code>swap</code> pool</td></tr><tr><td align="left"><code>currencyKey</code></td><td align="left">bytes32</td><td align="left">the currency key of the synth in bytes32 form</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getsynthindex"></a>getSynthIndex<a class="hash-link" href="#getsynthindex" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function getSynthIndex(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap swap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (uint8)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Returns the index of the supported synth in the given <code>swap</code> pool. Reverts if the <code>swap</code> pool
is not registered.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-13"></a>Parameters:<a class="hash-link" href="#parameters-13" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swap</code></td><td align="left">contract ISwap</td><td align="left">the address of the pool that contains the synth</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-9"></a>Return Values:<a class="hash-link" href="#return-values-9" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>the</code></td><td align="left">contract ISwap</td><td align="left">index of the supported synth</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getsynthaddress"></a>getSynthAddress<a class="hash-link" href="#getsynthaddress" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function getSynthAddress(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap swap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (address)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Returns the address of the supported synth in the given <code>swap</code> pool. Reverts if the <code>swap</code> pool
is not registered.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-14"></a>Parameters:<a class="hash-link" href="#parameters-14" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swap</code></td><td align="left">contract ISwap</td><td align="left">the address of the pool that contains the synth</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-10"></a>Return Values:<a class="hash-link" href="#return-values-10" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>the</code></td><td align="left">contract ISwap</td><td align="left">address of the supported synth</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getsynthkey"></a>getSynthKey<a class="hash-link" href="#getsynthkey" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function getSynthKey(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contract ISwap swap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (bytes32)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Returns the currency key of the supported synth in the given <code>swap</code> pool. Reverts if the <code>swap</code> pool
is not registered.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-15"></a>Parameters:<a class="hash-link" href="#parameters-15" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>swap</code></td><td align="left">contract ISwap</td><td align="left">the address of the pool that contains the synth</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-values-11"></a>Return Values:<a class="hash-link" href="#return-values-11" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>the</code></td><td align="left">contract ISwap</td><td align="left">currency key of the supported synth</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="updateexchangercache"></a>updateExchangerCache<a class="hash-link" href="#updateexchangercache" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  function updateExchangerCache(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Updates the stored address of the <code>EXCHANGER</code> contract. When the Synthetix team upgrades their protocol,
a new Exchanger contract is deployed. This function manually updates the stored address.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="events"></a>Events<a class="hash-link" href="#events" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="synthindex"></a>SynthIndex<a class="hash-link" href="#synthindex" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  event SynthIndex(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tokentosynth-1"></a>TokenToSynth<a class="hash-link" href="#tokentosynth-1" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  event TokenToSynth(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="synthtotoken-1"></a>SynthToToken<a class="hash-link" href="#synthtotoken-1" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  event SynthToToken(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tokentotoken-1"></a>TokenToToken<a class="hash-link" href="#tokentotoken-1" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  event TokenToToken(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="settle"></a>Settle<a class="hash-link" href="#settle" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  event Settle(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="withdraw-1"></a>Withdraw<a class="hash-link" href="#withdraw-1" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  event Withdraw(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/gondola-finance/gondola-doc/tree/master/docs/developers/contracts/VirtualSwap/Bridge.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/gondola-doc/docs/developers/contracts/TimeLock"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> TimeLock</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/gondola-doc/docs/developers/contracts/VirtualSwap/Proxy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Proxy </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functions" class="table-of-contents__link">Functions</a><ul><li><a href="#constructor" class="table-of-contents__link">constructor</a></li><li><a href="#getproxyaddressfromtargetsynthkey" class="table-of-contents__link">getProxyAddressFromTargetSynthKey</a></li><li><a href="#getpendingswapinfo" class="table-of-contents__link">getPendingSwapInfo</a></li><li><a href="#_settle" class="table-of-contents__link">_settle</a></li><li><a href="#withdraw" class="table-of-contents__link">withdraw</a></li><li><a href="#completetosynth" class="table-of-contents__link">completeToSynth</a></li><li><a href="#calccompletetotoken" class="table-of-contents__link">calcCompleteToToken</a></li><li><a href="#completetotoken" class="table-of-contents__link">completeToToken</a></li><li><a href="#_addtopendingsynthswaplist" class="table-of-contents__link">_addToPendingSynthSwapList</a></li><li><a href="#_addtopendingsynthtotokenswaplist" class="table-of-contents__link">_addToPendingSynthToTokenSwapList</a></li><li><a href="#calctokentosynth" class="table-of-contents__link">calcTokenToSynth</a></li><li><a href="#tokentosynth" class="table-of-contents__link">tokenToSynth</a></li><li><a href="#calcsynthtotoken" class="table-of-contents__link">calcSynthToToken</a></li><li><a href="#synthtotoken" class="table-of-contents__link">synthToToken</a></li><li><a href="#calctokentotoken" class="table-of-contents__link">calcTokenToToken</a></li><li><a href="#tokentotoken" class="table-of-contents__link">tokenToToken</a></li><li><a href="#setsynthindex" class="table-of-contents__link">setSynthIndex</a></li><li><a href="#getsynthindex" class="table-of-contents__link">getSynthIndex</a></li><li><a href="#getsynthaddress" class="table-of-contents__link">getSynthAddress</a></li><li><a href="#getsynthkey" class="table-of-contents__link">getSynthKey</a></li><li><a href="#updateexchangercache" class="table-of-contents__link">updateExchangerCache</a></li></ul></li><li><a href="#events" class="table-of-contents__link">Events</a><ul><li><a href="#synthindex" class="table-of-contents__link">SynthIndex</a></li><li><a href="#tokentosynth-1" class="table-of-contents__link">TokenToSynth</a></li><li><a href="#synthtotoken-1" class="table-of-contents__link">SynthToToken</a></li><li><a href="#tokentotoken-1" class="table-of-contents__link">TokenToToken</a></li><li><a href="#settle" class="table-of-contents__link">Settle</a></li><li><a href="#withdraw-1" class="table-of-contents__link">Withdraw</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/gondola-doc/docs/getting-started/introduction">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/gondola-doc/docs/developers/introduction">Developers</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/7yf87Afh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/gondola_finance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://gondola.finance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li><li class="footer__item"><a href="https://app.gondola.finance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dapp</a></li><li class="footer__item"><a href="https://gondola-finance.medium.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://github.com/gondola-finance" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/gondola-doc/assets/js/styles.bd6bd48b.js"></script>
<script src="/gondola-doc/assets/js/runtime~main.8c11a14a.js"></script>
<script src="/gondola-doc/assets/js/main.1a090e1a.js"></script>
<script src="/gondola-doc/assets/js/1.55e92e1f.js"></script>
<script src="/gondola-doc/assets/js/2.71050f07.js"></script>
<script src="/gondola-doc/assets/js/38.f1c180a9.js"></script>
<script src="/gondola-doc/assets/js/40.5ab9df12.js"></script>
<script src="/gondola-doc/assets/js/935f2afb.5d846d53.js"></script>
<script src="/gondola-doc/assets/js/17896441.766f1abb.js"></script>
<script src="/gondola-doc/assets/js/f0072c3c.2ed7a354.js"></script>
</body>
</html>